# 공통 프로세스
웹 개발을 할 때 공통적으로 처리해야하는 일들을 의미한다.
예를 들어 로그인 세션 처리, 인코딩 변환, 예외 처리, 로깅, 보안, 트랜잭션 처리 등이 있다.
이렇게 반복적으로 처리해야하는 일들을 매 요청마다, 서비스마다 처리하게 되면 중복되는 코드가 많아지고 서버에 부하를 줄 수 있다.
그러므로 공통 부분은 분리하여 따로 처리하고 관리하는 것이 효율적이다.

# 공통 프로세스를 처리하는 방법
스프링에서 사용가능한 처리 방법에는 3가지가 존재한다.


1. Filter(서블릿에서 지원)
요청이 Dispatcher Servlet에 도달하기 전에 우선 처리한다.
가장 먼저 실행되기 때문에 이름에 맞게 요청과 응답을 걸러주는 필터 역할을 한다.
스프링 영역 외부에 존재하는 객체이다.

- init() : 필터 인스턴스 초기화 시점에 실행
- doFilter() : 전, 후 처리
- destroy() : 필터 인스턴스 종료 시점에 실행


2. Interceptor
컴트롤러의 핸들러 메서드가 실행되기 전, 후로 요청과 응답을 가로채서 처리한다.
스프링 컨테이너 내부에 존재하기 때문에 모든 빈 객체에 접근 가능하다.

- preHandle() : 컨트롤러의 메서드가 실행되기 전에 처리
- postHandle() : 컨트롤러의 메서드가 실행직 후, view페이지를 만들기 전에 처리
- afterCompletion() : view 페이지를 만들고 난 후 처리



====================================================================================================
AOP (Aspect Oriented Programming)
- 관점 지향 프로그래밍을 의미하며 관점 지향은 로직을 핵심 로직, 부가 로직으로 나누어 분리하는것을 지향하는 프로그래밍 방법이다.
- 횡단 관심사 : 공통되고 반복되는 괌심사(기능)
예를 들어 예외 처리, 트랜잭션, 로깅, 보안
- 종단 관심사 : 핵심 로직

- 관심사를 분리하면 개발자는 핵심 로직(종단 관심사)에만 집중하여 코드를 작성할 수 있으며, 유지보수에 유리하다.
- 분리한 기능을 관점(Aspect)라고 한다.

# AOP의 주요 용어
- Aspect(관점)
반복되는 기능인 횡단 관심사를 의미한다.
주로 포인트컷과 어드바이스로 구성된다.

- Advice
실제 부가 기능을 구현한 객체이다.(관점의 구현체)
어드바이스는 동작 시점에 따라 다양한 유형으로 구분한다.
1. @Before : 타겟 메서드 호출 전에 적용
2. @AfterReturning : 타겟 메서드가 실행 후 결과를 반환한 뒤에 적용
3. @AfterThrowing : 타겟 메서드에서 예외가 발생하면 적용
4. @After : 타겟 메서드에서 예외 발생 상관 없이 항상 적용
5  @Around : 타겟 메서드 호출 전,후로 개발자의 코드 순서에 따라 적용(만능)

- JoinPoint
어드바이스를 적용시킬 수 있는 위치이다.
(우리의 경우 서비스 클래스의 메서드에 어드바이스를 적용시키게 된다.
즉, 서비스 클래스의 메서드들이 조인포인트이다.)

- Pointcut
어드바이스가 적용될 조인포인트를 결정하는 표현식이다.
스프링부트 부터는 어노테이션으로 간편하게 처리가 가능하다.

- Target
어드바이스를 적용할 대상 객체를 의미한다.

- Proxy(대리)
프록시는 가상의 객체를 의미한다.























