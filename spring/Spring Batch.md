# Spring Batch
대규모 데이터를 효율적으로 처리하기 위해 사용하는 프레임워크
예를 들어 10만건의 insert쿼리를 DB에 날리게되면 성능저하가 일어날 수 있으며,
10만 건의 쿼리 중 1개라도 문제가 발생되면 10만건이 전부 롤백되는 등의 여러 문제가 발생한다.

# Spring Batch의 특징
1. 대량 데이터 처리
대량의 데이터를 chunk 단위로 나누어 처리하여 메모리를 관리하고 성능저하를 방지한다.(효율적으로 처리)
10 만건의 쿼리를 날리더라도 chunk를 10으로 설정하면 쿼리를 10개씩 쪼개어 반복 처리한다.

2. 트랜잭션 관리
chunk단위로 트랜잭션을 관리해주어 데이터를 안전하게 다룰 수 있다.
10만건의 쿼리를 날려도 chunk가 10이면 10개의 쿼리만 하나의 트랜잭션에 담아 처리하므로 오류가 발생했을 때 10개의 쿼리만 롤백된다.

3. 재시도와 재처리
실패한 작업이 발생하면 재시도하거나, 중단된 작업을 재처리하는 기능을 제공한다.

# Spring Batch의 구성요소
1. Job : 배치 작업의 전체 단위
	1개의 Job은 여러 단계(Step)를 가질 수 있다.
2. Step : Job을 구성하는 실제 작업의 단위
	Step은 ItemReader, ItemProcessor, ItemWriter로 구성된다.
3. ItemReader : 데이터를 읽어오는 역할을 하는 객체
	데이터는 DB, 파일, Open API 등을 통해 읽어온다.
4. ItemProcessor : 데이터를 처리하는 역할을 하는 객체
	데이터를 변환하거나 거르는 등의 작업을 수행한다.
5. ItemWriter : 데이터를 작성(저장)하는 역할을 수행하는 객체
	데이터를 DB, 파일 등에 저장하는 작업을 수행한다.

# Spring Batch 동작 방식
1. Job 시작
2. Step 실행
- Step은 Chunk단위로 실행된다.
- Chunk가 10이면 10개의 데이터를 읽고 처리하고 저장하는 과정을 반복수행한다.

3. ItemReader<T> 실행
- Step이 시작되면 ItemReader 가 호출되고 데이터를 읽어온다.
- 데이터를 읽어 올 때는 1개씩 읽어온다.
- 읽어온 데이터는 ItemProcessor로 전달한다.
- <T>에는 읽어올 데이터 타입을 명시

3.5 Chunk 실행
- Chunk() 메서드에 설정한 크기만큼 데이터를 모은다.

4. ItemProcessor<I, O> 실행
- ItemReader가 읽어온 데이터를 처리한 후 ItemWriter로 전달한다.
- 1개의 데이터를 넘겨받아 1개씩 처리한다.
- <I, O> 에는 ItemReader에게 전달받는 데이터 타입과 ItemWriter에서 전달할 타입을 순서대로 명시한다.

5. ItemWriter<T> 실행
- ItemProcessor가 처리한 데이터를 최종적으로 저장처리한다.
- 처리한 데이터를 Chunk 단위로 한 번에 저장한다.
- <T>에는 ItemProcessor에게 전달받을 데이터 타입을 명시한다.

6. Chunk 반복
- 3 ~ 5번 과정을 반복한다.

7. Step 완료
- 모든 Chunk가 처리되면 Step이 완료되며 Job이 여러 Step으로 구성되어 있다면 다음 스텝으로 넘어간다.

8. Job 완료
- 모든 Step이 오나료되면 하나의 Job이 완료된다.






















